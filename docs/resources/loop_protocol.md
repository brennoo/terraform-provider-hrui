---
page_title: "hrui_loop_protocol (Resource)"
description: |-
  Manages loop protocol settings.
---

# hrui_loop_protocol (Resource)

Manages loop protocol settings.

## Introduction

Loop protocols are crucial for preventing network loops, which can occur when there are multiple paths between network devices. These loops can lead to broadcast storms and network outages. This resource allows you to configure different loop prevention mechanisms. You can disable loop protection entirely by setting `loop_function` to "Off". Alternatively, you can enable "Loop Detection" to identify loops in the network, "Loop Prevention" to actively block ports to prevent loops, or configure "Spanning Tree" (STP), a well-established protocol for managing redundant paths in a network as defined in IEEE 802.1D.  STP and its related protocols, such as Rapid Spanning Tree Protocol (RSTP) defined in IEEE 802.1w, are commonly used for loop prevention. Depending on the chosen `loop_function`, you may need to configure additional settings such as `interval_time` and `recover_time` (for detection and prevention). These settings control the frequency of checks and the time it takes for the system to recover from a detected loop.

## Example Usage

```terraform
resource "hrui_loop_protocol" "protocol_off" {
  loop_function = "Off"
}

resource "hrui_loop_protocol" "protocol_detection" {
  loop_function = "Loop Detection"
  interval_time = 30
  recover_time  = 15
}

resource "hrui_loop_protocol" "protocol_stp" {
  loop_function = "Spanning Tree"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `interval_time` (Number) The time interval in seconds for Loop Detection or Loop Prevention modes. Valid range is 1-32767 seconds.
- `loop_function` (String) Specifies the loop function mode. Valid options are 'Off', 'Loop Detection', 'Loop Prevention', and 'Spanning Tree'.
- `recover_time` (Number) Recovery time in seconds for detection/prevention modes. Must be 0 or between 4-255 seconds.


